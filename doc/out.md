# Формат данных для выходного модуля

## Массив текстовых элементов

В блоках содержимого часто встречается термин "массив текстовых элементов".

Это абзац из различных текстовых составляющих, являющиеся частью этого абзаца:

- Объект Str - стандартный текст,
- хеш, где поле 'type' указывает тип элемента:
    - bold (text - массив подэлементов),
    - italic (text - массив подэлементов),
    - inlinecode - цитата в виде элемента внутри абзаца (str - содержимое),
    - image - изображение (url, alt, title)?
    - href - ссылка (text - массив подэлементов, url)


## Блоки

Вызываются одноимёнными методами, в которые передаются аргументы.

### modifier

Модификаторы разметки страницы.

* name - имя модификатора:
    * pagebreak - разрыв страницы

### header

Заголовок.

* deep - глубина вложенности: 1 - самый верхний уровень,
* content - массив текстовых элементов.

### listitem

Элемент списка.

* mode - тип списка:
    * ord - нумерованный
    * символ "*" или "-" - с указанным символом перед списком
* num - номер элемента для нумерованного списка,
* title - заглавное содержимое элемента списка (массив текстовых элементов), первый абзац,
* content - вложенное содержимое (массив текстовых элементов).

### hline

Горизонтальная линия.

* title [необязательное] - текст заголовка (массив текстовых элементов).

### table

Таблица.

* mode - тип таблицы
    * 1 - стандартная с вертикальными разделителями колонок
    * 2 - облегчённая, только горизонтальные разделители рядов
* width - массив ширины колонок,
* align (только для типа "1") - массив выравниваний в колонках:
    * l - left,
    * c - center,
    * r - right,
    * пустая строка - выравнивание не указано
* hdr (только для типа "1") - массив с текстом в заголовках, каждый заголовок - массив текстовых элементов
* row - массив строк, в каждой строке массив ячеек, каждая ячейка - массив текстовых элементов

### code

Блок кода.

* lang (усли указан) - язык, которым должен подсвечен синтаксис
* text - массив строк (хеши: row, col, str).

### quote

Цитируемый блок.

* content - вложенное содержимое (массив текстовых элементов).

### textblock

Вложенный текстовый блок.

* text - массив строк (хеши: row, col, str).

### paragraph

Абзац.

* content - вложенное содержимое (массив текстовых элементов).

